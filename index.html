<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>â¤ï¸ Lipsy, Happy Valentineâ€™s â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  min-height:100vh;
  background:radial-gradient(circle at center,#4a001d,#000 70%);
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Poppins',sans-serif;
  overflow:hidden;
  color:#fff;
}

/* ğŸŒ¹ Petals */
.petal{
  position:fixed;
  top:-40px;
  width:18px;
  height:18px;
  background:radial-gradient(circle,#ff9aa2,#ff4d6d);
  border-radius:50% 50% 50% 0;
  transform:rotate(45deg);
  opacity:.8;
  pointer-events:none;
  animation:fall linear infinite;
}
@keyframes fall{to{transform:translateY(110vh) rotate(360deg)}}

/* âœ‰ï¸ Envelope */
.envelope{
  width:160px;
  height:105px;
  background:#fff;
  border-radius:18px;
  cursor:pointer;
  position:absolute;
  animation:bounce 2s infinite;
}
@keyframes bounce{50%{transform:translateY(-8px)}}
.envelope::before{
  content:"";
  position:absolute;
  inset:0;
  border:2px solid #ff8fab;
  border-radius:18px;
}
.flap{
  position:absolute;
  top:0;
  width:100%;
  height:55%;
  background:linear-gradient(135deg,#ff8fab,#ff4d6d);
  transform-origin:top;
  transition:1s;
}
.envelope.open .flap{transform:rotateX(-180deg)}

/* ğŸ’Œ Card Stack */
.card-stack{
  display:none;
  width:90%;
  max-width:520px;
  text-align:center;
}
.card{
  background:linear-gradient(180deg,#1c000a,#3a0018);
  border-radius:30px;
  padding:60px 40px;
  min-height:330px;
  box-shadow:0 30px 80px rgba(0,0,0,.8);
}

/* ğŸ”„ Swipe Animations */
.exit-left{animation:exitLeft .45s forwards}
.exit-right{animation:exitRight .45s forwards}
.enter{animation:enter .45s}

@keyframes exitLeft{
  to{opacity:0;transform:translateX(-140px) rotateY(15deg)}
}
@keyframes exitRight{
  to{opacity:0;transform:translateX(140px) rotateY(-15deg)}
}
@keyframes enter{
  from{opacity:0;transform:translateX(40px)}
  to{opacity:1}
}

/* ğŸ’ Ring */
.ring{
  width:90px;
  height:90px;
  border:4px solid gold;
  border-radius:50%;
  margin:0 auto 20px;
  box-shadow:0 0 25px gold;
}

/* âœ¨ Text */
h1{
  font-family:'Playfair Display',serif;
  font-size:2.2rem;
  margin-bottom:15px;
}
p{
  font-size:1.05rem;
  line-height:1.7;
  color:#ffd9e1;
}

/* ğŸ’— Choice cards */
.choice{
  display:flex;
  gap:18px;
  justify-content:center;
  margin-top:25px;
}
.choice div{
  padding:14px 24px;
  border-radius:22px;
  cursor:pointer;
  background:#ff4d6d;
  transition:.3s;
}
.choice div:hover{transform:scale(1.1)}

/* ğŸ“Š Dots */
.dots{
  display:flex;
  justify-content:center;
  gap:8px;
  margin-top:20px;
}
.dot{
  width:10px;height:10px;
  background:#ff8fab55;
  border-radius:50%;
}
.dot.active{background:#ff4d6d}

/* ğŸ’¬ Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.75);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal-content{
  background:#2a0012;
  padding:30px;
  border-radius:25px;
  width:90%;
  max-width:400px;
  text-align:center;
}
textarea{
  width:100%;
  height:120px;
  border-radius:12px;
  border:none;
  padding:10px;
}
button{
  margin-top:15px;
  padding:10px 24px;
  border:none;
  border-radius:16px;
  background:#ff4d6d;
  color:#fff;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="envelope" id="envelope">
  <div class="flap"></div>
</div>

<div class="card-stack" id="stack">
  <div class="card" id="card"></div>
  <div class="dots" id="dots"></div>
</div>

<div class="modal" id="modal">
  <div class="modal-content">
    <h3>ğŸ’Œ Your message</h3>
    <textarea placeholder="Type your message here..."></textarea>
    <button onclick="closeModal()">Send â¤ï¸</button>
  </div>
</div>

<iframe id="yt"
src="https://www.youtube.com/embed/2ZVX075EWnA?enablejsapi=1&autoplay=0&mute=1"
allow="autoplay"
style="display:none"></iframe>

<script>
const cards=[
 {t:"Happy Valentineâ€™s, Lipsy",m:"This little space exists just to remind you how special you are."},
 {t:"ğŸŒ¹ Rose Day",m:"Every rose feels warmer when I think of you."},
 {t:"ğŸ’ Propose Day",m:"If feelings could become promises, mine would always choose you."},
 {t:"ğŸ¤— Hug Day",m:"Close your eyesâ€¦ feel this hug."},
 {t:"â¤ï¸ Valentineâ€™s Day",m:"Any message for me?"}
];

let index=0,startX=0;
const card=document.getElementById("card");
const dots=document.getElementById("dots");
const yt=document.getElementById("yt").contentWindow;

function render(){
  const c=cards[index];
  let html="";
  if(c.t.includes("Propose")) html+='<div class="ring"></div>';
  html+=`<h1>${c.t}</h1><p>${c.m}</p>`;

  if(index===cards.length-1){
    html+=`
    <div class="choice">
      <div onclick="openModal()">YES ğŸ’–</div>
      <div onclick="alert('Still means everything to me â¤ï¸')">NO ğŸ˜Š</div>
    </div>`;
  }

  card.innerHTML=html;
  card.classList.add("enter");

  dots.innerHTML="";
  cards.forEach((_,i)=>{
    dots.innerHTML+=`<div class="dot ${i===index?'active':''}"></div>`;
  });
}

function swipe(dir){
  card.classList.add(dir==="left"?"exit-left":"exit-right");
  setTimeout(()=>{
    index+=dir==="left"?1:-1;
    card.className="card";
    render();
  },450);
}

/* Mouse */
card.onmousedown=e=>startX=e.clientX;
card.onmouseup=e=>{
  if(startX-e.clientX>60 && index<cards.length-1) swipe("left");
  if(e.clientX-startX>60 && index>0) swipe("right");
};

/* Touch */
card.ontouchstart=e=>startX=e.touches[0].clientX;
card.ontouchend=e=>{
  let endX=e.changedTouches[0].clientX;
  if(startX-endX>50 && index<cards.length-1) swipe("left");
  if(endX-startX>50 && index>0) swipe("right");
};

envelope.onclick=()=>{
  envelope.classList.add("open");
  setTimeout(()=>{
    envelope.style.display="none";
    stack.style.display="block";
    render();
    yt.postMessage('{"event":"command","func":"unMute"}',"*");
    yt.postMessage('{"event":"command","func":"playVideo"}',"*");
  },800);
};

function openModal(){modal.style.display="flex"}
function closeModal(){modal.style.display="none"}

setInterval(()=>{
  const p=document.createElement("div");
  p.className="petal";
  p.style.left=Math.random()*100+"vw";
  p.style.animationDuration=6+Math.random()*6+"s";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),12000);
},500);
</script>

</body>
</html>
